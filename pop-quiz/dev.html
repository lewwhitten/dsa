<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pop-Cue Classroom Tool</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: #f5f7fa;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }

    /* ==== EXPECTATIONS BAR ==== */
    #expectations {
      color: #cc0000;
      text-align: center;
      margin: 20px 0;
      font-weight: 600;
      font-size: 1.1em;
      line-height: 1.4;
    }

    /* ==== TWO-COLUMN LAYOUT ==== */
    #layout { border-collapse: separate; border-spacing: 40px; }
    #layout td { vertical-align: middle; }

    /* ==== POP BUTTON STYLES ==== */
    #popBlock { text-align: center; }
    #popper {
      width: 200px; height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffcc00, #ff9900);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      display: flex; align-items: center; justify-content: center;
      font-size: 2em; color: white; cursor: pointer;
      user-select: none;
      transition: transform 0.05s, background 0.3s;
      margin-bottom: 14px;
    }
    #popper:active { transform: scale(0.9); }
    #counter { font-size: 1.1em; margin-bottom: 8px; }
    button {
      padding: 6px 12px; border: none; border-radius: 5px;
      background: #0077cc; color: #fff; cursor: pointer;
    }
    button:hover { background: #005fa3; }

    /* ==== MATH PROBLEM STYLES ==== */
    #problemBlock { min-width: 380px; text-align: center; }
    h1 { margin: 0 0 10px; color: #333; font-weight: 600; }

    /* Shorter, wider "table" */
    .table-box {
      margin: 0 auto;
      width: clamp(320px, 52vw, 720px);
      aspect-ratio: 4 / 3;
      background: #ffffff;
      border: 10px solid #222;
      border-radius: 18px;
      position: relative;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
    }

    .table-box::before, .table-box::after{
      content:"";
      position:absolute;
      width: 18px; height: 28px;
      background:#222; border-radius: 6px;
      bottom:-28px;
      box-shadow: 0 6px 10px rgba(0,0,0,.15);
    }
    .table-box::before{ left:22px; }
    .table-box::after { right:22px; }

    /* Closer problem placement */
    .spot {
      position: absolute;
      max-width: 44%;
      text-align: center;
      line-height: 1.1;
      padding: 6px 8px;
      border-radius: 10px;
      font-size: clamp(22px, 3vw, 34px);
      background: #fffdf8;
      border: 1px solid #f0e6c7;
      box-shadow: 0 4px 12px rgba(0,0,0,.06);
    }
    /* Bring them closer to center */
    .L1 { left: 12%; top: 40%; transform: translate(-50%, -50%); }
    .L2 { left: 12%; top: 60%; transform: translate(-50%, -50%); }
    .R1 { right: 12%; top: 40%; transform: translate(50%, -50%); }
    .R2 { right: 12%; top: 60%; transform: translate(50%, -50%); }

    .fraction {
      display: inline-block;
      text-align: center;
      vertical-align: middle;
      margin: 0 6px;
    }
    .fraction span { display: block; padding: 0 6px; }
    .fraction .line { border-top: 2px solid #000; margin: 3px 0; }

    .x { display:inline-block; padding:0 .25em; font-weight:900; }

    /* Footer */
    footer {
      margin-top: 40px;
      color: #555;
      font-weight: 600;
      text-align: center;
    }

    @media (max-width: 800px) {
      #layout { border-spacing: 20px; }
      #popper { width: 160px; height: 160px; }
      .spot { font-size: clamp(18px, 4vw, 28px); }
    }
  </style>
</head>
<body>

  <!-- === EXPECTATIONS BANNER === -->
  <div id="expectations">
    Mr. Bellezas &amp; Whitten Expectations:<br>
    No talking or glancing at neighbor’s whiteboard.<br>
    A <strong>Pop</strong> = <strong>MBI</strong> and <strong>zero quiz score</strong>.<br>
    Hold your board up for collection when done!
  </div>

  <!-- === MAIN TWO-COLUMN LAYOUT === -->
  <table id="layout">
    <tr>
      <!-- LEFT: Pop button -->
      <td id="popBlock">
        <div id="popper">POP<br>QUIZ!</div>
        <div id="counter">Pops: 0</div>
        <button id="resetBtn">Reset / New Problems</button>
        <audio id="popSound" src="pop.mp3" preload="auto"></audio>
      </td>

      <!-- RIGHT: Table with four fraction problems -->
      <td id="problemBlock">
        <h1>Fraction Multiplication</h1>
        <div class="table-box">
          <div class="spot L1" id="pL1"></div>
          <div class="spot L2" id="pL2"></div>
          <div class="spot R1" id="pR1"></div>
          <div class="spot R2" id="pR2"></div>
        </div>
      </td>
    </tr>
  </table>

  <footer>
    <br><br><br>
    Created by Del Sol Code Club
    <br><br><br>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const popper   = document.getElementById('popper');
      const counter  = document.getElementById('counter');
      const resetBtn = document.getElementById('resetBtn');
      const soundEl  = document.getElementById('popSound');

      const elL1 = document.getElementById('pL1');
      const elL2 = document.getElementById('pL2');
      const elR1 = document.getElementById('pR1');
      const elR2 = document.getElementById('pR2');

      let count = 0;
      let isRed = false;

      popper.addEventListener('click', () => {
        count++;
        counter.textContent = 'Pops: ' + count;
        try {
          soundEl.currentTime = 0;
          soundEl.play().catch(()=>{});
        } catch (_) {}
        popper.style.background = isRed
          ? 'radial-gradient(circle at 30% 30%, #ffcc00, #ff9900)'
          : 'radial-gradient(circle at 30% 30%, #cc0000, #660000)';
        isRed = !isRed;
      });

      function randomInt(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
      function fracHTML(n,d){
        return `<span class="fraction"><span>${n}</span><span class="line"></span><span>${d}</span></span>`;
      }
      function randomFracTimes(){
        const n1=randomInt(1,9),d1=randomInt(2,12);
        const n2=randomInt(1,9),d2=randomInt(2,12);
        return `${fracHTML(n1,d1)} <span class="x">×</span> ${fracHTML(n2,d2)}`;
      }
      function generateFour(){
        elL1.innerHTML=randomFracTimes();
        elL2.innerHTML=randomFracTimes();
        elR1.innerHTML=randomFracTimes();
        elR2.innerHTML=randomFracTimes();
      }
      function resetAll(){
        count=0;
        counter.textContent='Pops: 0';
        generateFour();
      }
      resetBtn.addEventListener('click', resetAll);
      generateFour();
    });
  </script>

</body>
</html>
