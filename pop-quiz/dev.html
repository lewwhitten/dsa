<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pop-Cue Classroom Tool — 4-Seater Table</title>
  <style>
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin:0;
      background:#f5f7fa;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      min-height:100vh;
    }

    /* Expectations */
    #expectations{
      color:#cc0000; text-align:center; margin:16px 0 12px;
      font-weight:600; font-size:1.05rem; line-height:1.35;
    }

    /* Two-column layout */
    #layout{ border-collapse:separate; border-spacing:38px; }
    #layout td{ vertical-align:middle; }

    /* POP button block */
    #popBlock{ text-align:center; }
    #popper{
      width:200px; height:200px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #ffcc00, #ff9900);
      box-shadow:0 5px 15px rgba(0,0,0,.3);
      display:flex; align-items:center; justify-content:center;
      font-size:2em; color:#fff; cursor:pointer; user-select:none;
      transition: transform .05s, background .3s; margin-bottom:12px;
    }
    #popper:active{ transform:scale(.92); }
    #counter{ font-weight:600; margin-bottom:8px; }
    button{
      padding:6px 12px; border:none; border-radius:6px; background:#0077cc; color:#fff; cursor:pointer;
    }
    button:hover{ background:#0463a6; }

    /* Problem area */
    #problemBlock{ min-width:380px; text-align:center; }
    h1{ margin:0 0 10px; color:#333; font-weight:700; font-size:1.35rem; }

    /* The "table" */
    .table-box{
      margin:0 auto;
      width: clamp(360px, 58vw, 820px);
      aspect-ratio: 4 / 3;               /* shorter, wide */
      background:#fff;
      border:10px solid #222;            /* thick edge like a tabletop */
      border-radius:18px;
      position:relative;
      box-shadow:0 10px 24px rgba(0,0,0,.12);
    }
    /* subtle “seam” to help left/right reading (optional) */
    .table-box::after{
      content:"";
      position:absolute; left:50%; top:8px; bottom:8px;
      width:0; border-left:1px dashed #e7e7e7;
      transform:translateX(-50%);
    }

    /* Seat tags */
    .seat-tag{
      position:absolute; padding:4px 8px; border-radius:999px;
      background:#0f172a; color:#e8f0ff; font-size:.72rem; font-weight:700;
      letter-spacing:.02em; box-shadow:0 4px 10px rgba(0,0,0,.12);
      pointer-events:none; white-space:nowrap;
    }
    /* near side tags (bottom edge) */
    .tag-near-left  { bottom:6px; left:22%;  transform:translate(-50%, 0); }
    .tag-near-right { bottom:6px; left:78%;  transform:translate(-50%, 0); }
    /* far side tags (top edge) */
    .tag-far-left   { top:6px;    left:22%;  transform:translate(-50%, 0); }
    .tag-far-right  { top:6px;    left:78%;  transform:translate(-50%, 0); }

    /* Four problems, pinned to edges for each student */
    .spot{
      position:absolute; display:inline-block;
      max-width:38%;
      text-align:center; line-height:1.1;
      padding:8px 10px; border-radius:12px;
      font-size: clamp(22px, 3vw, 34px);
      background:#fffdf8; border:1px solid #f0e6c7; box-shadow:0 4px 12px rgba(0,0,0,.06);
    }
    /* FAR side (across) — near the top edge */
    .far-left  { top:11%;  left:22%;  transform:translate(-50%, -50%); }
    .far-right { top:11%;  left:78%;  transform:translate(-50%, -50%); }
    /* NEAR side (this side) — near the bottom edge */
    .near-left { bottom:11%; left:22%;  transform:translate(-50%, 50%); }
    .near-right{ bottom:11%; left:78%;  transform:translate(-50%, 50%); }

    /* Fraction rendering */
    .fraction{ display:inline-block; text-align:center; vertical-align:middle; margin:0 6px; }
    .fraction span{ display:block; padding:0 6px; }
    .fraction .line{ border-top:2px solid #000; margin:3px 0; }
    .x{ display:inline-block; padding:0 .25em; font-weight:900; }

    /* Footer space for a little scroll room */
    footer{ margin:28px 0 40vh; color:#444; font-weight:700; }

    @media (max-width: 820px){
      #layout{ border-spacing:22px; }
      #popper{ width:160px; height:160px; }
      .spot{ font-size: clamp(18px, 4vw, 28px); }
    }
  </style>
</head>
<body>

  <div id="expectations">
    Mr. Bellezas &amp; Whitten Expectations:<br>
    No talking or glancing at neighbor’s whiteboard.<br>
    A <strong>Pop</strong> = <strong>MBI</strong> and <strong>zero quiz score</strong>.<br>
    Hold your board up for collection when done!
  </div>

  <table id="layout">
    <tr>
      <!-- Left: POP controls -->
      <td id="popBlock">
        <div id="popper">POP<br>QUIZ!</div>
        <div id="counter">Pops: 0</div>
        <button id="resetBtn">Reset / New Problems</button>
        <audio id="popSound" src="pop.mp3" preload="auto"></audio>
      </td>

      <!-- Right: Table with seat-specific problems -->
      <td id="problemBlock">
        <h1>Fraction Multiplication — One per Student</h1>

        <div class="table-box" aria-label="4-seat table: far (across) two problems at the top, near (this side) two problems at the bottom">
          <!-- Seat tags -->
          <div class="seat-tag tag-far-left">ACROSS • LEFT</div>
          <div class="seat-tag tag-far-right">ACROSS • RIGHT</div>
          <div class="seat-tag tag-near-left">THIS SIDE • LEFT</div>
          <div class="seat-tag tag-near-right">THIS SIDE • RIGHT</div>

          <!-- Problems -->
          <div class="spot far-left"   id="pFarLeft"></div>
          <div class="spot far-right"  id="pFarRight"></div>
          <div class="spot near-left"  id="pNearLeft"></div>
          <div class="spot near-right" id="pNearRight"></div>
        </div>
      </td>
    </tr>
  </table>

  <footer>Created by Del Sol Code Club</footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      /* Elements */
      const popper   = document.getElementById('popper');
      const counter  = document.getElementById('counter');
      const resetBtn = document.getElementById('resetBtn');
      const soundEl  = document.getElementById('popSound');

      const pFarLeft  = document.getElementById('pFarLeft');
      const pFarRight = document.getElementById('pFarRight');
      const pNearLeft = document.getElementById('pNearLeft');
      const pNearRight= document.getElementById('pNearRight');

      /* POP behavior */
      let count = 0;
      let isRed = false;

      popper.addEventListener('click', () => {
        count += 1;
        counter.textContent = 'Pops: ' + count;
        try {
          soundEl.currentTime = 0;
          soundEl.play().catch(()=>{});
        } catch (_) {}
        popper.style.background = isRed
          ? 'radial-gradient(circle at 30% 30%, #ffcc00, #ff9900)'
          : 'radial-gradient(circle at 30% 30%, #cc0000, #660000)';
        isRed = !isRed;
      });

      /* Problem generation */
      function rnd(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
      function fracHTML(n,d){
        return `<span class="fraction"><span>${n}</span><span class="line"></span><span>${d}</span></span>`;
      }
      function randomFracTimes(){
        const n1 = rnd(1,9), d1 = rnd(2,12);
        const n2 = rnd(1,9), d2 = rnd(2,12);
        return `${fracHTML(n1,d1)} <span class="x">×</span> ${fracHTML(n2,d2)}`;
      }
      function generateFour(){
        // Different random product for each seat
        pFarLeft.innerHTML   = randomFracTimes();
        pFarRight.innerHTML  = randomFracTimes();
        pNearLeft.innerHTML  = randomFracTimes();
        pNearRight.innerHTML = randomFracTimes();
      }

      function resetAll(){
        count = 0;
        counter.textContent = 'Pops: 0';
        generateFour();
        // Optional: scroll to keep table in view after reset
        // window.scrollTo({ top: 0, behavior: "instant" });
      }

      resetBtn.addEventListener('click', resetAll);

      /* Initial render */
      generateFour();
    });
  </script>
</body>
</html>
