<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pop-Cue Classroom Tool</title>
  <style>
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 0;
      background: #f5f7fa;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    /* ==== EXPECTATIONS BAR ==== */
    #expectations {
      color: #cc0000;
      text-align: center;
      margin-bottom: 20px;
      font-weight: 600;
      font-size: 1.1em;
      line-height: 1.4;
    }

    /* ==== TWO-COLUMN LAYOUT ==== */
    #layout { border-collapse: separate; border-spacing: 40px; }
    #layout td { vertical-align: middle; }

    /* ==== POP BUTTON STYLES ==== */
    #popBlock { text-align: center; }
    #popper {
      width: 200px; height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffcc00, #ff9900);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      display: flex; align-items: center; justify-content: center;
      font-size: 2em; color: white; cursor: pointer;
      user-select: none;
      transition: transform 0.05s, background 0.3s;
      margin-bottom: 14px;
    }
    #popper:active { transform: scale(0.9); }
    #counter { font-size: 1.1em; margin-bottom: 8px; }
    button {
      padding: 6px 12px; border: none; border-radius: 5px;
      background: #0077cc; color: #fff; cursor: pointer;
    }
    button:hover { background: #005fa3; }

    /* ==== MATH "TABLE" LAYOUT ==== */
    #problemBlock { min-width: 380px; text-align: center; }
    h1 { margin: 0 0 10px; color: #333; font-weight: 600; }

    /* Tall table box */
    .table-box {
      margin: 0 auto;
      width: clamp(320px, 48vw, 680px);
      aspect-ratio: 3 / 4;            /* long side vertical */
      background: #ffffff;
      border: 10px solid #222;        /* thick “table edge” */
      border-radius: 18px;
      position: relative;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
    }

    /* Optional “legs” for table look */
    .table-box::before,
    .table-box::after{
      content:"";
      position:absolute;
      width: 18px; height: 36px;
      background:#222; border-radius: 6px;
      bottom:-36px;
      box-shadow: 0 6px 10px rgba(0,0,0,.15);
    }
    .table-box::before{ left:22px; }
    .table-box::after{ right:22px; }

    /* Corner problems */
    .corner {
      position: absolute;
      max-width: 45%;
      line-height: 1.1;
      text-align: center;
      padding: 8px 10px;
      border-radius: 10px;
      font-size: clamp(22px, 3.2vw, 34px);
      background: #fffdf8;
      border: 1px solid #f0e6c7;
      box-shadow: 0 4px 12px rgba(0,0,0,.06);
    }
    .tl { top: 12px; left: 12px; }
    .tr { top: 12px; right: 12px; }
    .bl { bottom: 12px; left: 12px; }
    .br { bottom: 12px; right: 12px; }

    .fraction {
      display: inline-block;
      text-align: center;
      vertical-align: middle;
      margin: 0 6px;
    }
    .fraction span { display: block; padding: 0 6px; }
    .fraction .line { border-top: 2px solid #000; margin: 3px 0; }

    .x { display:inline-block; padding:0 .25em; font-weight:900; }

    @media (max-width: 800px) {
      #layout { border-spacing: 20px; }
      #popper { width: 160px; height: 160px; }
      .corner { font-size: clamp(18px, 4vw, 28px); }
    }
  </style>
</head>
<body>

  <!-- === EXPECTATIONS BANNER === -->
  <div id="expectations">
    Mr. Bellezas &amp; Whitten Expectations:<br>
    No talking or glancing at neighbor’s whiteboard.<br>
    A <strong>Pop</strong> = <strong>MBI</strong> and <strong>zero quiz score</strong>.<br>
    Hold your board up for collection when done!
  </div>

  <!-- === MAIN TWO-COLUMN LAYOUT === -->
  <table id="layout">
    <tr>
      <!-- LEFT: Pop button -->
      <td id="popBlock">
        <div id="popper">POP<br>QUIZ!</div>
        <div id="counter">Pops: 0</div>
        <button id="resetBtn">Reset / New Problems</button>
        <audio id="popSound" src="pop.mp3" preload="auto"></audio>
      </td>

      <!-- RIGHT: Four-corner fraction multiplications on a “table” -->
      <td id="problemBlock">
        <h1>Fraction Multiplication</h1>

        <div class="table-box" aria-label="Table with four corner problems">
          <div class="corner tl" id="pTL"></div>
          <div class="corner tr" id="pTR"></div>
          <div class="corner bl" id="pBL"></div>
          <div class="corner br" id="pBR"></div>
        </div>

      </td>
    </tr>
  </table>

  <script>
    // === POP BUTTON LOGIC ===
    let count = 0;
    let isRed = false;
    const popper  = document.getElementById('popper');
    const counter = document.getElementById('counter');
    const sound   = document.getElementById('popSound');

    popper.addEventListener('click', () => {
      count++;
      counter.textContent = 'Pops: ' + count;
      sound.currentTime = 0;
      sound.play();

      // Toggle yellow ↔ red each click
      popper.style.background = isRed
        ? 'radial-gradient(circle at 30% 30%, #ffcc00, #ff9900)'
        : 'radial-gradient(circle at 30% 30%, #cc0000, #660000)';
      isRed = !isRed;
    });

    // === FOUR FRACTION MULTIPLICATION PROBLEMS ===
    const elTL = document.getElementById('pTL');
    const elTR = document.getElementById('pTR');
    const elBL = document.getE
